% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/subtyper.R
\name{harmonize_sites}
\alias{harmonize_sites}
\title{Harmonize Multi-Site Data by Matching Controls}
\usage{
harmonize_sites(data, site_col, diagnosis_col, control_label, feature_cols)
}
\arguments{
\item{data}{A data frame containing site, diagnosis, and feature columns.}

\item{site_col}{A string specifying the column name for the site.}

\item{diagnosis_col}{A string specifying the column name for the diagnosis.}

\item{control_label}{A string specifying the label for the control group in the diagnosis column.}

\item{feature_cols}{A vector of strings specifying the feature columns to be harmonized.}
}
\value{
A data frame with harmonized features for each diagnostic category across sites.
}
\description{
This function adjusts the data from multiple sites such that the control data has consistent
mean and standard deviation values across all sites. This adjustment is then applied to all
other diagnostic categories at each site.
}
\examples{
# Simulate example data
set.seed(123)
data <- data.frame(
  site = rep(c("Site1", "Site2", "Site3"), each = 100),
  diagnosis = rep(c("Control", "Disease1", "Disease2"), times = c(50, 25, 25), each = 2),
  feature1 = rnorm(300, mean = rep(c(10, 12, 15), each = 100), sd = 3),
  feature2 = rnorm(300, mean = rep(c(20, 22, 25), each = 100), sd = 4)
)
# Harmonize the data
harmonized_data <- harmonize_sites(data, "site", "diagnosis", "Control", c("feature1", "feature2"))
}
